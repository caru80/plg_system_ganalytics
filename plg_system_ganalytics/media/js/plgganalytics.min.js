(function(b){window.gaOptOut={defaults:{stage:"body",css:{visible:"visible",button:"msg-close"},cookiename:"gaoptout",realoadPage:!0,message:""},init:function(a){this.options=a?b.extend(!0,{},this.defaults,a):this.defaults;this.stage=b(this.options.stage);this.setOptoutLink()},setOptoutLink:function(){var a=this;b("[data-gaoptout]").on("click.gaoptout",function(){document.cookie=a.options.cookiename+"=1; expires=Fri, 31 Dec 9999 23:59:59 GMT; path=/";""!=a.options.message?a.showMessage():a.options.reloadPage&&
window.location.reload()})},removeMessage:function(a){var d=this,c=!1;b(a).one("transitionend webkitTransitionEnd oTransitionEnd",function(){c||(b(this).remove(),c=!0,d.options.reloadPage&&window.location.reload())}).removeClass(this.options.css.visible)},setTrigger:function(a){var b=this,c=a.find("."+this.options.css.button);if(c.length)c.data("app-message",a).on("click.gaoptout",function(a){a.preventDefault();a=c.data("app-message");b.removeMessage(a);return!1})},showMessage:function(){var a=b(this.options.message);
this.stage.append(a);a.get(0).offsetWidth;this.setTrigger(a);a.addClass(this.options.css.visible)}}})(jQuery);
